# ================================================================
# Comprehensive configuration template for SourceCombine
# Lists every available option with default values and explanations.
# ================================================================

# --- Search Parameters ---
search:
  # Paths to scan for files.
  # Replace with one or more folders on your system.
  root_folders:
    - '/path/to/project'

  # Limit folder scanning to this depth (e.g., 1 for root files only).
  # Use 0 for no limit.
  max_depth: 0

  # Search folders recursively.
  recursive: true

  # Only include files with these extensions. Leave empty to include all.
  # NOTE: This option cannot be used if `pairing.enabled` is true or
  # if any `inclusion_groups` are enabled.
  allowed_extensions: []

# --- Output Configuration ---
output:
  # Output format (text, json, markdown, xml). Defaults to text.
  format: 'text'

  # When pairing is disabled, all content is written to this file.
  file: 'combined_files.txt'

  # When pairing is enabled, each pair is written to this folder. Omit or set to null
  # to place the .combined files next to their source files.
  folder: null

  # When pairing is enabled, this template determines the name of each
  # combined output file.
  # Available placeholders:
  #   {{STEM}}       - The base name of the file (e.g., 'main' from 'main.cpp')
  #   {{SOURCE_EXT}} - The extension of the source file (e.g., '.cpp')
  #   {{HEADER_EXT}} - The extension of the header file (e.g., '.h')
  #   {{DIR}}        - The relative folder path using forward slashes (or '.' for the root folder)
  #   {{DIR_SLUG}}   - A simplified name for {{DIR}} ('root' when DIR is '.')
  paired_filename_template: '{{STEM}}.combined'

  # Example preserving folder structure in the output folder:
  # paired_filename_template: '{{DIR_SLUG}}/{{STEM}}.combined'

  # Add line numbers starting at 1 for each file.
  add_line_numbers: false

  # Include a Table of Contents at the beginning of the combined file.
  # (Ignored in pairing mode and JSON format)
  table_of_contents: false

  # Include a visual folder tree at the start of the output file.
  # (Ignored in pairing mode and JSON format)
  include_tree: false

  # Template written before each file's content.
  # Placeholders: {{FILENAME}}, {{EXT}}, {{STEM}}, {{DIR}}, {{DIR_SLUG}}, {{SIZE}}, {{TOKENS}}, {{LINE_COUNT}}.
  # Set to null or an empty string to omit the header.
  header_template: "--- {{FILENAME}} ---\n"

  # Template written after each file's content.
  # Placeholders: Same as header_template.
  # Set to null or an empty string to omit the footer/separator.
  footer_template: "\n--- end {{FILENAME}} ---\n"

  # Template written at the very beginning of the combined output file.
  # Placeholders (when combining many files into one): {{FILE_COUNT}}, {{TOTAL_SIZE}}, {{TOTAL_TOKENS}}, {{TOTAL_LINES}}.
  # In pairing mode, this is written to the start of each paired output file.
  global_header_template: null

  # Template written at the very end of the combined output file.
  # Placeholders: Same as global_header_template.
  # In pairing mode, this is written to the end of each paired output file.
  global_footer_template: null

  # Optional placeholder to write when a file is skipped because it exceeds
  # filters.max_size_bytes. The string may use placeholders like {{FILENAME}} and {{SIZE}}.
  max_size_placeholder: null

  # Global sorting options for both single-file and pairing modes.
  # Choices: name, size, modified, tokens, depth.
  sort_by: 'name'

  # If true, sort in descending order.
  sort_reverse: false

# --- File Filtering ---
filters:
  # Files smaller than this (bytes) are skipped.
  min_size_bytes: 0

  # Files larger than this (bytes) are skipped. Omit, set to null, or set to 0 for no limit (0 is treated as unlimited).
  max_size_bytes: 0

  # Stop adding files to the combined output once this total token limit is reached.
  # (Only when combining many files into one). Omit or set to 0 for no limit.
  max_total_tokens: 0

  # Stop processing after this many files. Omit or set to 0 for no limit.
  max_files: 0

  # Include files modified since this time (e.g., '1d', '2h', 'YYYY-MM-DD').
  modified_since: 0

  # Include files modified before this time.
  modified_until: 0

  # If true, skip files that appear to contain binary data (e.g., executables, images).
  skip_binary: false

  # Only include files whose content matches this search pattern.
  grep: ""

  # --- Inclusion Groups ---
  # Enable specific groups to only include listed filenames or glob patterns.
  # Mutually exclusive with ``search.allowed_extensions``; specify file types within the patterns instead.
  inclusion_groups:
    example_group:
      enabled: false
      filenames: []

  # --- Exclusion Rules ---
  exclusions:
    # Skip files matching glob patterns.
    # Defaults include: *.pyc, .DS_Store, Thumbs.db, .coverage, .tox, .nox
    filenames:
      - '*.pyc'
      - '*.pyo'
      - '*.pyd'
      - '.DS_Store'
      - 'Thumbs.db'
      - '.coverage'
      - '.tox'
      - '.nox'

    # Exclude folders if any folder name in the path matches one of these
    # patterns. Case-insensitive.
    # Defaults include: .git, __pycache__, node_modules, .venv, dist, build, etc.
    folders:
      - '.git'
      - '.svn'
      - '.hg'
      - '.cvs'
      - '.idea'
      - '.vscode'
      - '__pycache__'
      - 'node_modules'
      - 'venv'
      - '.venv'
      - 'env'
      - '.env'
      - 'dist'
      - 'build'
      - 'target'
      - 'egg-info'
      - '.egg-info'

# --- Content Processing Options ---
processing:
  compact_whitespace: false       # Compact and clean up whitespace
  # Optional overrides to enable or disable individual whitespace transforms.
  # Keys may be set to true, false, or null (to fall back to compact_whitespace).
  # Supported keys: normalize_line_endings, spaces_to_tabs, trim_spaces_around_tabs,
  # replace_mid_line_tabs, trim_trailing_whitespace, compact_blank_lines,
  # compact_space_runs
  compact_whitespace_groups: {}
  # If true, removes all C-style block comments (/* ... */). This runs *after* remove_initial_c_style_comment.
  remove_all_c_style_comments: false
  # If true, removes only the *first* C-style block comment if it's at the top of the file.
  # This runs *first* and also strips leading whitespace after the comment.
  remove_initial_c_style_comment: false
  line_regex_replacements: []      # Collapse blocks of lines matching search patterns
  # Example line rule:
  # line_regex_replacements:
  #   - pattern: '^\s*\w+\(0x[0-9a-fA-F]+,\s*0x[0-9a-fA-F]+\),\s*$'
  #     replacement: '<data removed>'
  regex_replacements: []           # List of search-and-replace rules
  # Example rule:
  # regex_replacements:
  #   - pattern: '^\s*//\s*TODO:.*$'
  #     replacement: ''
  apply_in_place: false            # Apply these processing rules back to the source files
  create_backups: true             # Create .bak backups before rewriting when apply_in_place is true


# --- Pairing Options ---
pairing:
  enabled: false
  include_mismatched: false         # Include files without a pair
  source_extensions: []             # e.g., ['.cpp', '.c']
  header_extensions: []             # e.g., ['.h', '.hpp']
